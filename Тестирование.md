# Тест-кейсы для FitRation

## Модульное тестирование

### Тест-кейсы модульного тестирования

### Модели (Models)

| ID | Цель | Входные данные | Ожидаемый результат |
|----|------|----------------|---------------------|
| 1 | Проверка создания объекта User | uid="123", email="test@mail.com", name="Test", role="USER" | Все поля корректно установлены |
| 2 | Проверка метода isCoach() | role="COACH" | Возвращает true |
| 3 | Проверка метода isCoach() | role="USER" | Возвращает false |
| 4 | Проверка создания объекта Meal | userId="123", date=new Date(), mealType="breakfast" | Поля корректно установлены |
| 5 | Проверка isMealEaten() | eaten=true | Возвращает true |
| 6 | Проверка расчета КБЖУ | calories=500, protein=30, carbs=40, fat=20 | Значения корректно установлены |
| 7 | Проверка дефолтного статуса CoachRequest | Новый объект | status="PENDING" |

---

### Утилиты (Utils)

| ID | Цель | Входные данные | Ожидаемый результат |
|----|------|----------------|---------------------|
| 1 | Расчет BMR для мужчины | gender="male", weight=80, height=180, age=30 | Корректное значение BMR |
| 2 | Расчет BMR для женщины | gender="female", weight=60, height=165, age=25 | Корректное значение BMR |
| 3 | Расчет TDEE | bmr=1800, activityLevel="moderate" | Корректное значение TDEE |
| 4 | Расчет калорий для похудения | tdee=2500, goal="LOSE" | Калории с дефицитом 20% |
| 5 | Расчет целей питания для похудения | dailyCalories=2000, goal="LOSE" | Правильное соотношение БЖУ |
| 6 | Форматирование даты | date=new Date() | Строка в формате "dd.MM.yyyy" |
| 7 | Форматирование КБЖУ | protein=30.5, carbs=40.2, fat=20.1 | "Б: 30.5 г | У: 40.2 г | Ж: 20.1 г" |

---

### Репозитории (Repositories) — Mock тесты

| ID | Цель | Входные данные | Ожидаемый результат |
|----|------|----------------|---------------------|
| 1 | Успешная авторизация | email="test@mail.com", password="123456" | Возвращает User объект |
| 2 | Неуспешная авторизация | email="wrong@mail.com", password="wrong" | Возвращает null |
| 3 | Регистрация нового пользователя | email="new@mail.com", password="123456", name="New" | Возвращает User с publicId |
| 4 | Получение пользователя | userId="123" | Возвращает User объект |
| 5 | Получение блюд на сегодня | userId="123" | Возвращает список Meal |
| 6 | Отметка блюда как съеденного | mealId="m123", eaten=true | Возвращает true |

---

### ViewModels

| ID | Цель | Входные данные | Ожидаемый результат |
|----|------|----------------|---------------------|
| 1 | Логин пользователя | Корректные учетные данные | LiveData с User |
| 2 | Выход из системы | Вызов logout() | currentUser = null |
| 3 | Обновление профиля | Новые данные профиля | LiveData с true |
| 4 | Генерация плана питания | userId="123", targetCalories=2000 | LiveData с true |
| 5 | Получение клиентов тренера | coachPublicId="FR-123456" | LiveData со списком User |

---

## Интеграционное тестирование  
### Управляющий граф программы
<img width="402" height="441" alt="Диаграмма без названия drawio (1)" src="https://github.com/user-attachments/assets/848b0f2b-8746-438a-b389-68e88f44842b" />

### Пояснение к графу
1. Запуск приложения
2. Окно входа
3. Окно регистрации 
4. Окно рациона
5. Окно профиля (USER)
6. Диалоговое окно отправки заявки
7. Диалоговое окно редактирования профиля
8. Окно списка клиентов 
9. Окно профиля (COACH)
10. Диалоговое окно статистики клиента
11. Окно рациона клиента
12. Диалоговое окно описания блюда
13. Диалоговое окно создания комментария
14. Закрытие приложения

### Основные тестовые пути

Т1-1-2-3-4-14  
Т2-1-2-4-8-14  
Т3-1-2-4-14  
Т4-1-2-4-5-2-8-14  
T5-1-2-4-2-8-10-11  

---

### Тест-кейсы интеграционного тестирования
| ID | Цель | Шаги теста | Ожидаемый результат |
|----|------|------------|---------------------|
| 1 | Полный цикл регистрации USER | Открыть RegisterActivity → Заполнить поля → Зарегистрироваться | Создание в Firebase Auth и Firestore, переход в MainActivity |
| 2 | Полный цикл регистрации COACH | Выбрать роль Тренер → Заполнить поля | Создание Auth и Firestore без профиля |
| 3 | Успешный логин | Ввести корректные данные | Авторизация и переход в MainActivity |
| 4 | Успешная отправка заявки | Зайти как пользователь, отправить заявку, зайти как тренер | Заявка отображается в списке |
| 5 | Отображение рацона у тренера | Зайти как пользователь, сгенерировать рацион, зайти как тренер, зайти в окно рациона клиента | Рацион отображается |
---
